<ion-card *ngIf="!loading; else cargando">
  <ion-card-header>
    <ion-card-title>{{ encuesta.id ? 'Editar Encuesta' : 'Nueva Encuesta' }}</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <ion-item>
      <ion-label position="floating">Título</ion-label>
      <ion-input [(ngModel)]="encuesta.titulo"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Descripción</ion-label>
      <ion-textarea [(ngModel)]="encuesta.descripcion"></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-label>Estado</ion-label>
      <ion-select [(ngModel)]="encuesta.estado">
        <ion-select-option value="borrador">Borrador</ion-select-option>
        <ion-select-option value="publicada">Publicada</ion-select-option>
        <ion-select-option value="archivada">Archivada</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-button expand="full" color="primary" (click)="save()">Guardar</ion-button>
    <ion-button expand="full" color="danger" (click)="delete()" *ngIf="encuesta.id">Eliminar</ion-button>
  </ion-card-content>
</ion-card>

<ng-template #cargando>
  <ion-spinner name="crescent"></ion-spinner>
  <p>Cargando...</p>
</ng-template>
