<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{ editMode ? 'Editar Encuesta' : 'Nueva Encuesta' }}</ion-title>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="/encuesta-list"></ion-back-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content fullscreen class="ion-padding">
  <!-- Formulario de encuesta -->
  <ion-card class="mb-3">

    <ion-card-header>
      <ion-card-title>Informaci√≥n de la Encuesta</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">T√≠tulo</ion-label>
        <ion-input [(ngModel)]="encuesta.titulo" placeholder="T√≠tulo de la encuesta" required></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Descripci√≥n</ion-label>
        <ion-textarea [(ngModel)]="encuesta.descripcion" placeholder="Describe brevemente la encuesta"></ion-textarea>
      </ion-item>

    </ion-card-content>

  </ion-card>

  <!-- Lista de preguntas -->
  <ion-card class="mb-3" *ngIf="id">

    <ion-card-header>
      <ion-card-title>Preguntas</ion-card-title>
    </ion-card-header>
    
    <ion-card-content>
      <app-pregunta-list 
        [preguntas]="preguntas"
        (agregar)="agregarPregunta()"
        (eliminar)="eliminarPregunta($event)"
      ></app-pregunta-list>
    </ion-card-content>
  </ion-card>

  <!-- üíæ Botones de acci√≥n -->
  <ion-footer class="ion-padding">
    <ion-button expand="block" color="success" class="mt-3" (click)="guardar()">
      {{ editMode ? 'Actualizar' : 'Crear' }} Encuesta
    </ion-button>
  </ion-footer>

</ion-content>
